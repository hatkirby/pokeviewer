- @trainers.each do |trainer|
  .trainer
    .trainer-info{ class: trainer.game }
      %h2= trainer.name
      %span.tid= trainer.display_number
    .pc-boxes
      %ul.party.pc-box
        %h3 Party
        - trainer.party.each do |p|
          %li
            %span.party-icon= image_tag p.icon_path
            %span.party-name= link_to p.revisions.last.nickname, p
      - trainer.boxes.each do |box|
        .pc-box
          %h3= box[:name]
          %table.pc-contents
            - box[:pokemon].each_slice(6) do |row|
              %tr
                - row.each do |p|
                  %td.pc-pokemon.pkv-has-hover
                    - if p.nil?
                      .spacer
                    - else
                      = link_to image_tag(p.icon_path), p
                      .pc-data.pkv-hover
                        .pc-data-name= p.revisions.last.nickname
                        .pc-data-ot
                          OT/
                          %span{ class: p.ot_gender }>= p.ot_name
- if @unaccounted.any?
  .trainer
    .trainer-info.unaccounted
      %h2 PokÃ©mon Not In Any Game
    %ul.pokemon-list
      - @unaccounted.each do |p|
        %li.pc-pokemon.pkv-has-hover
          = link_to image_tag(p.icon_path), p
          .pc-data.pkv-hover
            .pc-data-name= p.revisions.last.nickname
            .pc-data-ot
              OT/
              %span{ class: p.ot_gender }>= p.ot_name
